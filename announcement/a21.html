<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Status Codes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 8px;
            border: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>

<h1>Status Codes</h1>
<label for="statusCode">Enter Status Code:</label>
<input type="text" id="statusCode" placeholder="e.g., 100">
<button onclick="searchStatusCode()">Search</button>
<button onclick="displayFullList()">Display Full List</button>

<div id="result"></div>
<div id="fullList"></div>

<script>
    let statusCodesData = [];

    // Function to fetch CSV data
    async function fetchCSV() {
        try {
            const response = await fetch('https://gist.githubusercontent.com/mikail-eliyah-00/48d6f7fc2f25bd03110e15affcd27679/raw/3ac926683112b9f70a8d7d6006d8eaf4e97cea9c/HTTP%2520response%2520status%2520codes.csv');
            const csvText = await response.text();
            console.log('CSV Text:', csvText); // Debugging output
            statusCodesData = csvToArray(csvText);
            console.log('Parsed CSV Data:', statusCodesData); // Debugging output
        } catch (error) {
            console.error('Error fetching CSV data:', error);
            statusCodesData = [
                { "status codes": "100", "Type": "Informational responses (100–199)", "Meaning": "Continue" },
                { "status codes": "101", "Type": "Informational responses (100–199)", "Meaning": "Switching Protocols" },
                { "status codes": "102", "Type": "Informational responses (100–199)", "Meaning": "Processing (WebDAV)" },
                { "status codes": "103", "Type": "Informational responses (100–199)", "Meaning": "Early Hints" },
                { "status codes": "200", "Type": "Successful responses (200–299)", "Meaning": "OK" },
                { "status codes": "201", "Type": "Successful responses (200–299)", "Meaning": "Created" },
                { "status codes": "202", "Type": "Successful responses (200–299)", "Meaning": "Accepted" }
                // Add more entries as needed
            ];
            console.log('Fallback Data:', statusCodesData); // Debugging output
        }
    }

    // Convert CSV text to an array of objects
    function csvToArray(str, delimiter = ",") {
        const headers = str.slice(0, str.indexOf("\n")).split(delimiter);
        const rows = str.slice(str.indexOf("\n") + 1).split("\n");

        return rows.map(row => {
            const values = row.split(delimiter);
            return headers.reduce((object, header, index) => {
                object[header.trim()] = values[index] ? values[index].trim() : "";
                return object;
            }, {});
        });
    }

    // Search status code
    function searchStatusCode() {
        const code = document.getElementById('statusCode').value.trim();
        const result = statusCodesData.find(item => item['status codes'] === code);

        let resultDiv = document.getElementById('result');
        resultDiv.innerHTML = '';

        if (result) {
            resultDiv.innerHTML = `
                <h2>Result</h2>
                <p><strong>Type:</strong> ${result.Type}</p>
                <p><strong>Meaning:</strong> ${result.Meaning}</p>
            `;
        } else {
            resultDiv.innerHTML = '<p>Status code not found.</p>';
        }
    }

    // Display full list
    function displayFullList() {
        let fullListDiv = document.getElementById('fullList');
        fullListDiv.innerHTML = '';

        let table = '<table><tr><th>Status Code</th><th>Type</th><th>Meaning</th></tr>';

        statusCodesData.forEach(item => {
            if (item['status codes']) {
                table += `
                    <tr>
                        <td>${item['status codes']}</td>
                        <td>${item.Type}</td>
                        <td>${item.Meaning}</td>
                    </tr>
                `;
            }
        });

        table += '</table>';
        fullListDiv.innerHTML = table;
    }

    // Fetch CSV data on load
    window.onload = fetchCSV;
</script>

</body>
</html>
